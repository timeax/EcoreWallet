import{r as x,j as e,d as r,c as j}from"./app-CXhxP4IC.js";import{C as g}from"./index-CGiUeyTh.js";import{C as N}from"./Cardheader-DXDM4mck.js";import{u as v}from"./LiveContext-DcvojEoZ.js";import{s as C,T as _,g as P,r as u}from"./index-uIOWaCi_.js";import{T as l}from"./index-ByMu0qn2.js";import{C as T}from"./currency-format-Dx_jRBKB.js";import{S}from"./SparkLineChart-rUuOPS3w.js";import"./index-Cur7t6HG.js";import"./objectWithoutPropertiesLoose-BwfzGx52.js";import"./useEnhancedEffect-C9VTFToP.js";const L=({currencies:m})=>{const{marketData:i,rates:o}=v(),[s,c]=x.useState(),[p,h]=x.useState(!1);return x.useEffect(()=>{if(p)return h(!1);i&&o&&s&&c(s.map(t=>{var f;let a=m.find(n=>n.id==t.id),d=(f=o.find(n=>n.id==(a==null?void 0:a.id)))==null?void 0:f.data.find(n=>n.from==(a==null?void 0:a.code)&&n.to=="USD");return d?{id:t.id,data:{...t.data,current_price:parseFloat(d.course)}}:t}))},[o]),x.useEffect(()=>{i&&(h(!0),c([...i]))},[i]),e.jsx("section",{children:e.jsxs(g,{container:r.prices,className:j("!rounded-lg max-h-[320px]",r.latest),children:[e.jsx(N,{variant:"mini",children:e.jsx(e.Fragment,{children:"Market Trend"})}),e.jsx("div",{children:C(((s==null?void 0:s.length)||0)>0,e.jsx(e.Fragment,{children:s==null?void 0:s.map(t=>e.jsx(b,{currencies:m,...t},t.id))}),e.jsx(l,{noPad:!0,className:"pb-4",children:"Nothing to show here"}))})]})})},b=({currencies:m,id:i,data:{current_price:o,high_24h:s,image:c,low_24h:p,price_change_percentage_24h:h,sparkline_in_7d:t}})=>{const a=m.find(d=>d.id==i);return e.jsxs("div",{className:r.price_element,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{element:"img",src:c,alt:""}),e.jsxs("div",{children:[e.jsx(l,{noPad:!0,bold:!0,className:r.price_name,children:a==null?void 0:a.curr_name}),e.jsx(l,{noPad:!0,children:a==null?void 0:a.code})]})]}),e.jsx("div",{className:r.graph,children:e.jsx(S,{colors:[P((a==null?void 0:a.curr_name)||"")],height:35,data:t.price})}),e.jsxs("div",{className:r.price_area,children:[e.jsxs(l,{className:r.price_change,noPad:!0,children:[u(h,2),"%"]}),e.jsxs(l,{bold:!0,noPad:!0,children:["$",e.jsx(T,{value:u(o,4),displayType:"text",thousandSeparator:!0,renderText:d=>e.jsx("span",{children:d})})]})]})]})},q=L;export{q as default};
