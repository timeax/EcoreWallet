import{r as f,j as e,d as C}from"./app-CXhxP4IC.js";import{c as g}from"./StyledButton-DM_a2VOH.js";import{I as b}from"./IconButton-3auqLRD5.js";import{C as N}from"./index-CGiUeyTh.js";import{C as S}from"./Cardheader-DXDM4mck.js";import{r as T,b as B}from"./index-Brqb9oXI.js";import{a as D}from"./index-SyAJMH_1.js";import{G as w}from"./iconBase-DWzPX-n0.js";import{i as d,T as _}from"./index-uIOWaCi_.js";import{T as m,C as G}from"./index-ByMu0qn2.js";import{G as I}from"./index-DdMq2KMe.js";import{a as L}from"./index-DM6NnR1K.js";import{B as j}from"./index-BWw7OOr8.js";import{u as P}from"./LiveContext-DcvojEoZ.js";import{C as A}from"./currency-format-Dx_jRBKB.js";import"./index-Cur7t6HG.js";function F(s){return w({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.75 8.5a.75.75 0 0 1 .75.75v7.19L16.72 6.22a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L7.56 17.5h7.19a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75v-9a.75.75 0 0 1 .75-.75Z"},child:[]}]})(s)}function R(s){return w({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.25 15.5a.75.75 0 0 1-.75-.75V7.56L7.28 17.78a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L16.44 6.5H9.25a.75.75 0 0 1 0-1.5h9a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-.75.75Z"},child:[]}]})(s)}const U=({history:s,wallet:a})=>{let n=s.filter(t=>t.currency_id==a.curr.id);const{convert:l,marketData:o,currency:r}=P(),[c,y]=f.useState();let x=n.length>0?n.reduce((t,i)=>i.type==="+"?{amount:d.plus(t.amount,i.amount,i.charge)}:t):{amount:0},h=n.length>0?n.reduce((t,i)=>i.type==="-"?{amount:d.plus(t.amount,i.amount,i.charge)}:t):{amount:0};f.useEffect(()=>{if(o){let t=o.find(i=>i.id==a.curr.id);t&&y(t)}},[o]);const p=d.plus(x.amount,h.amount);return e.jsx("section",{children:e.jsxs(N,{className:"!bg-transparent",container:"!px-0 !py-0",children:[e.jsxs(S,{variant:"title",children:[e.jsx(e.Fragment,{children:"Wallet Summary"}),e.jsx(b,{href:route(T("wallets").route),children:e.jsx(D,{})})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx(v,{type:"out",curr:a.curr.code,total:p,text:"Outcome",value:h.amount}),e.jsx(v,{type:"in",curr:a.curr.code,total:p,text:"Income",color:g("primary"),value:x.amount})]}),e.jsxs("div",{className:"flex gap-2 mt-8",children:[e.jsx(u,{symbol:r==null?void 0:r.symbol,data:c,icon:e.jsx(I,{}),change:"+20%",color:"primary",label:"Total",value:l(a.curr.code,(r==null?void 0:r.code)||"USD",a.all_balance.total,2)}),e.jsx(u,{symbol:r==null?void 0:r.symbol,data:c,icon:e.jsx(L,{}),change:"+20%",color:"success",label:"Available",value:l(a.curr.code,(r==null?void 0:r.code)||"USD",a.all_balance.available,2)}),e.jsx(u,{symbol:r==null?void 0:r.symbol,data:c,icon:e.jsx(B,{}),change:"+20%",color:"warning",label:"Pending",value:l(a.curr.code,(r==null?void 0:r.code)||"USD",a.all_balance.escrow,2)})]}),e.jsxs("div",{className:"flex mt-6",children:[e.jsxs(j,{children:["Deposit ",a.curr.code]}),e.jsxs(j,{variant:"none",children:["Withdraw ",a.curr.code]})]})]})})},u=({icon:s,label:a,value:n,color:l="theme",data:o,symbol:r="$"})=>e.jsx(N,{className:"w-[33%] shadow-2xl !rounded-xl shadow-black/5 overflow-hidden text-ellipsis",container:"!px-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex",children:e.jsx(b,{className:"!p-3 mr-auto rounded-xl !text-white",size:"20px",variant:"contained",bgColor:l,children:s})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(m,{noPad:!0,bold:!0,children:a}),e.jsxs(m,{className:"text-ellipsis overflow-clip relative",noPad:!0,xl:!0,children:[r," ",e.jsx(A,{value:n,displayType:"text",thousandSeparator:!0,renderText:c=>e.jsx("span",{children:c})})]}),e.jsxs(m,{noPad:!0,sm:!0,children:[d.round((o==null?void 0:o.data.price_change_percentage_24h)||"0",2),"%"]})]})]})}),v=({text:s,total:a,curr:n,value:l,type:o,color:r=g("warning")})=>e.jsx(G,{className:"grow !rounded-lg shadow-2xl shadow-theme-text/10   py-2 px-1",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{sx:{"--w":"55px","--c":r,"--b":"5px",overflow:"hidden","--p":d.times(d.divide(l,a),100),borderRadius:"50%",boxShadow:"0px 1rem 1rem 2px rgb(200 163 97 / 14%)"},className:C.pie,children:e.jsx("div",{className:"flex m-auto size-[90%] rounded-full items-center justify-center bg-warning-50/10",children:o=="in"?e.jsx(F,{}):e.jsx(R,{})})}),e.jsxs("div",{children:[e.jsx(m,{medium:!0,md:!0,className:"!text-theme-button-hover",children:s}),e.jsxs(m,{medium:!0,md:!0,className:"",children:[d.round(l,2)," ",n]})]})]})}),ee=U;export{u as Total,ee as default};
