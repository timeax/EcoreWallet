import{r as f,j as e,c as b}from"./app-CXhxP4IC.js";import{a as N,A as P}from"./AuthenticatedLayout-MNU11-dO.js";import{B as h}from"./index-BWw7OOr8.js";import{D as p}from"./Dropdown-XGO5mqUA.js";import{t as w,m as x,h as v}from"./settings-Bt_bVYr7.js";import{S as A}from"./selectbutton.esm-Ch7BD6BF.js";import{S as j}from"./Select-C-exctFT.js";import{c as k}from"./index-SyAJMH_1.js";import{T as M,a as y}from"./tabview.esm-C7_PWlvx.js";import{T as L,D}from"./index-DDdEYXzY.js";import{u as U,g as C,a as F}from"./useEnhancedEffect-C9VTFToP.js";import"./tooltip.esm-A3nGpM54.js";import"./index.esm-CrCcFfvx.js";import"./objectWithoutPropertiesLoose-BwfzGx52.js";import"./iconbase.esm-Cq4ooEvg.js";import"./index.esm-DVhXXx0K.js";import"./index.esm-BrhfK6k7.js";import"./ripple.esm-CLCo6fDN.js";import"./index-Brqb9oXI.js";import"./iconBase-DWzPX-n0.js";import"./index-DdMq2KMe.js";import"./index-uIOWaCi_.js";import"./index-ByMu0qn2.js";import"./index-CGiUeyTh.js";import"./index-Cur7t6HG.js";import"./IconButton-3auqLRD5.js";import"./StyledButton-DM_a2VOH.js";import"./index.esm-CPBasDD3.js";import"./inputtext.esm-GbgemPKy.js";function Q(t,s,a,n,l){const[o,c]=f.useState(()=>l&&a?a(t).matches:n?n(t).matches:s);return F(()=>{let r=!0;if(!a)return;const i=a(t),d=()=>{r&&c(i.matches)};return d(),i.addListener(d),()=>{r=!1,i.removeListener(d)}},[t,a]),o}const S=f.useSyncExternalStore;function R(t,s,a,n,l){const o=f.useCallback(()=>s,[s]),c=f.useMemo(()=>{if(l&&a)return()=>a(t).matches;if(n!==null){const{matches:u}=n(t);return()=>u}return o},[o,t,n,l,a]),[r,i]=f.useMemo(()=>{if(a===null)return[o,()=>()=>{}];const u=a(t);return[()=>u.matches,m=>(u.addListener(m),()=>{u.removeListener(m)})]},[o,a,t]);return S(i,r,c)}function z(t,s={}){const a=U(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:o=n?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:r=!1}=C({name:"MuiUseMediaQuery",props:s,theme:a});let i=t;return i=i.replace(/^@media( ?)/m,""),(S!==void 0?R:Q)(i,l,o,c,r)}const B=({userEdit:t,avatarEdit:s})=>{const[a,n]=f.useState(),[l,o]=f.useState(),c=f.useRef();return e.jsxs(e.Fragment,{children:[e.jsxs(T,{title:"Edit Username",state:t,children:[e.jsx(L,{name:"username",label:"Edit Username"}),r=>e.jsx(h,{shape:"pill",size:"normal",children:"Save"})]}),e.jsxs(T,{title:"Upload avatar",state:s,children:[e.jsxs("div",{className:"col-span-6 ml-2 sm:col-span-4 md:mr-3",children:[e.jsx("input",{type:"file",className:"hidden",ref:c,onChange:()=>{var i,d,u,m;n((d=(i=c.current)==null?void 0:i.files)==null?void 0:d[0].name);const r=new FileReader;r.onload=E=>{var g;o((g=E.target)==null?void 0:g.result)},r.readAsDataURL((m=(u=c.current)==null?void 0:u.files)==null?void 0:m[0])}}),e.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2 text-center",htmlFor:"photo",children:["Profile Photo ",e.jsx("span",{className:"text-red-600",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:b("mt-2",{hidden:!l}),children:e.jsx("img",{src:"https://images.unsplash.com/photo-1531316282956-d38457be0993?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=80",className:"w-40 h-40 m-auto rounded-full shadow"})}),e.jsx("div",{className:b("mt-2",{hidden:!l}),children:e.jsx("span",{className:"block w-40 h-40 rounded-full m-auto shadow",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:`url('${l}')`}})}),e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-400 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150 mt-2 ml-3",children:"Select New Photo"})]})]}),r=>e.jsx(h,{shape:"pill",size:"normal",children:"Save"})]})]})};function he({auth:t,currencies:s,languages:a,settings:n,gs:l,...o}){const c=z("(max-width: 500px)"),r=f.useState(!1),i=f.useState(!1),d={profile:[[{title:"Username ",info:"Set up your username or preferred nickname. It is advisable to avoid using your real name "},{isText:!1,data:""},{text:"Edit",action(){r[1](!0)}}],[{title:"Avatar",info:"Set up a preferred Avatar for your account"},{isText:!1,data:e.jsx(N,{icon:e.jsx(k,{}),size:"large",shape:"circle",className:"avatar"})},{text:"Edit",action:()=>i[1](!0)}]],general:[[{title:"Language ",info:""},{isText:!1,data:""},{text:e.jsx(j,{value:a.find(m=>m.code=="en"),items:a,label:"code",menu:"language",menuGap:8,gap:32,unique:"id",marker:"dot",content:"!w-fit"}),action:null}],[{title:"Currency",info:""},{isText:!1,data:""},{text:e.jsx(j,{value:s.find(m=>m.code=="USD"),items:s,label:"code",menu:"code",marker:"dot",content:"!w-fit",gap:20,menuGap:10,unique:"id"}),action:null}],[{title:"Theme ",info:""},{isText:!1,data:""},{text:e.jsx(A,{disabled:!0,className:"slct-btn",value:w[0].icon,options:w,optionLabel:"icon"}),action:null}]],notify:[[{title:"Email",info:""},{isText:!1,data:""},{text:"Edit",action:null}],[{title:"Telegram ",info:""},{isText:!1,data:""},{text:"Edit",action:null}],[{title:"SMS ",info:e.jsx("i",{children:"... charges may apply"})},{isText:!1,data:""},{text:"Edit",action:null}]]},u=e.jsxs("div",{className:"pg-parent",children:[x({header:"Profile",body:[...d.profile],isPhone:c}),x({header:"General",body:[...d.general],isPhone:!1}),x({header:"Notification",body:[...d.notify],isPhone:c})]});return e.jsx(P,{user:t.user,title:"Settings",...o,header:e.jsxs(p,{className:"hidden",onSelect:m=>{window.axios.post(route("api.webhook"))},children:[e.jsx(p.Trigger,{children:e.jsx(h,{size:"sm",variant:"outlined",bgColor:"success",children:t.user.email})}),e.jsxs(p.Content,{children:[e.jsx(p.Link,{value:"paid",children:"Paid"}),e.jsx(p.Link,{value:"process",children:"Process"}),e.jsx(p.Link,{value:"failed",children:"Failed"})]})]}),pusher:!0,desc:`Welcome back! ${t.user.name.split(" ")[0]}`,children:e.jsxs(M,{children:[e.jsxs(y,{header:"Preference",children:[u,e.jsx(B,{userEdit:r,avatarEdit:i})]}),e.jsx(y,{header:"Security",children:e.jsx(G,{user:t.user})})]})})}const T=({children:[t,s],title:a,state:[n,l]})=>e.jsx(D,{className:"max-w-[350px]",footer:o=>e.jsx(s,{props:o}),header:a,visible:n,style:{width:"50vw"},onHide:()=>{n&&l(!1)},children:t}),G=({user:t})=>{const s={twofa:[[{title:"Email Address ",info:""},{isText:!1,data:v(t.email,0)},{text:"Edit",action:null}],[{title:"Login Password",info:""},{isText:!1,data:"****"},{text:"Edit",action:null}],[{title:"Phone Number",info:""},{isText:!1,data:v(t.phone)},{text:"Edit",action:null}],[{title:"Authenticator App",info:""},{isText:!1,data:""},{text:"Manage",action:null,disabled:!0}],[{title:"PassKeys",info:""},{isText:!1,data:""},{text:"Manage",action:null,disabled:!0}]],advanced:[[{title:"Anti-Phising Code ",info:""},{isText:!1,data:""},{text:"Edit",action:null}],[{title:"Third Party Accounts",info:"Enable sign-in with Google, Apple, Microsoft, etc. "},{isText:!1,data:""},{text:"Manage",action:null}],[{title:"Manage Devices",info:""},{isText:!1,data:""},{text:"Manage",action:null}],[{title:"Account Activity ",info:"Review account activity for suspicious activity.. "},{isText:!1,data:""},{text:"Manage",action:null}]],manage:[[{title:"Disable Account",info:""},{isText:!1,data:""},{text:"Disable",action:null}],[{title:"Close Account ",info:e.jsx("b",{children:"Beware!! This will permanently erase your account and all related information from the platform.."})},{isText:!1,data:""},{text:"Close",action:null}]]};return e.jsxs("div",{className:"pg-parent",children:[x({header:"Two Factor Authentication (2FA)",body:[...s.twofa]}),x({header:"Advanced",body:[...s.advanced]}),x({header:"Account Management",body:[...s.manage]})]})};export{he as default};
