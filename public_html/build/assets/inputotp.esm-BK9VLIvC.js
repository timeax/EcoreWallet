import{R as b,r as I,P as Y,b as q,O as z}from"./app-DPeqRPcX.js";import{C as G,u as Q,a as Z,b as ee}from"./componentbase.esm-CEyx904k.js";import{I as te}from"./inputtext.esm-DpYC840t.js";function w(){return w=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},w.apply(this,arguments)}function _(t,a){(a==null||a>t.length)&&(a=t.length);for(var o=0,l=new Array(a);o<a;o++)l[o]=t[o];return l}function ne(t){if(Array.isArray(t))return _(t)}function re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N(t,a){if(t){if(typeof t=="string")return _(t,a);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _(t,a)}}function ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(t){return ne(t)||re(t)||N(t)||ae()}function oe(t){if(Array.isArray(t))return t}function le(t,a){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var l,c,f,d,e=[],p=!0,v=!1;try{if(f=(o=o.call(t)).next,a!==0)for(;!(p=(l=f.call(o)).done)&&(e.push(l.value),e.length!==a);p=!0);}catch(m){v=!0,c=m}finally{try{if(!p&&o.return!=null&&(d=o.return(),Object(d)!==d))return}finally{if(v)throw c}}return e}}function ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(t,a){return oe(t)||le(t,a)||N(t,a)||ie()}function y(t){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},y(t)}function se(t,a){if(y(t)!=="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var l=o.call(t,a||"default");if(y(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function pe(t){var a=se(t,"string");return y(a)==="symbol"?a:String(a)}function ce(t,a,o){return a=pe(a),a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}var fe={root:"p-inputotp p-component",input:"p-inputotp-input"},P=G.extend({defaultProps:{__TYPE:"InputOtp",__parentMetadata:null,className:null,modelValue:!1,invalid:!1,disabled:!1,readOnly:!1,variant:null,tabIndex:null,length:4,mask:!1,integerOnly:!1},css:{classes:fe}});function j(t,a){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),o.push.apply(o,l)}return o}function A(t){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?j(Object(o),!0).forEach(function(l){ce(t,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(o,l))})}return t}var de=b.memo(b.forwardRef(function(t,a){var o,l,c=I.useRef(a),f=Q(),d=I.useContext(Y),e=P.getProps(t,d),p=P.setMetaData(A(A({props:e},e.__parentMetadata),{},{context:{disabled:e.disabled}})),v=p.ptm,m=p.cx,D=p.isUnstyled;Z(P.css.styles,D,{name:"inputotp"});var k=e.value?(o=e.value)===null||o===void 0||(o=o.toString())===null||o===void 0||(l=o.split)===null||l===void 0?void 0:l.call(o,""):new Array(e.length),C=I.useState(k),S=ue(C,2),g=S[0],O=S[1],B=function i(n){var r=n.nextElementSibling;if(r)return r.nodeName==="INPUT"?r:i(r)},K=function i(n){var r=n.previousElementSibling;if(r)return r.nodeName==="INPUT"?r:i(r)},E=function(n){var r=B(n.target);r&&(r.focus(),r.select())},h=function(n){var r=K(n.target);r&&(r.focus(),r.select())},x=function(n,r){var s;e==null||(s=e.onChange)===null||s===void 0||s.call(e,{originalEvent:n,value:r.join("")})},R=function(n,r){var s=n.target.value,u=T(g);u[r]=s,u=u.join(""),u=u?u.split(""):new Array(e.length),O(u),x(n,u)},U=function(n,r){e.disabled||e.readOnly||n.nativeEvent.inputType!=="insertFromPaste"&&(R(n,r),n.nativeEvent.inputType==="deleteContentBackward"?h(n):(n.nativeEvent.inputType==="insertText"||n.nativeEvent.inputType==="deleteContentForward")&&E(n))},M=function(n){if(!(e.disabled||e.readOnly)){var r=n.clipboardData.getData("text");if(r.length){var s=r.substring(0,e.length+1);if(!e.integerOnly||!isNaN(s)){var u=s.split("");O(u),x(n,u)}}}},$=function(n){var r;n.target.select(),e==null||(r=e.focus)===null||r===void 0||r.call(e,n)},F=function(n){var r;e==null||(r=e.blur)===null||r===void 0||r.call(e,n)},L=function(n){if(!(e.disabled||e.readOnly)&&!(n.altKey||n.ctrlKey||n.metaKey))switch(n.code){case"ArrowLeft":{h(n),n.preventDefault();break}case"ArrowRight":{E(n),n.preventDefault();break}case"Backspace":{var r;((r=n.target)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r.length)===0&&(h(n),n.preventDefault());break}case"ArrowUp":case"ArrowDown":{n.preventDefault();break}case"Tab":case"Enter":break;default:{(e!=null&&e.integerOnly&&!(Number(n.key)>=0&&Number(n.key)<=9)||g.join("").length>=e.length&&n.code!=="Delete")&&n.preventDefault();break}}};ee(function(){var i,n,r=e.value?(i=e.value)===null||i===void 0||(i=i.toString())===null||i===void 0||(n=i.split)===null||n===void 0?void 0:n.call(i,""):new Array(e.length);O(r)},[e.value]);var H=function i(n){if(n<=0)return[];var r=e.length-n,s={onInput:function(X){return U(X,r)},onKeyDown:L,onFocus:$,onBlur:F,onPaste:M},u=f({id:r,key:r,value:g[r]||"",inputMode:e!=null&&e.integerOnly?"numeric":"text",type:e!=null&&e.mask?"password":"text",variant:e==null?void 0:e.variant,readOnly:e==null?void 0:e.readOnly,disabled:e==null?void 0:e.disabled,invalid:e==null?void 0:e.invalid,tabIndex:e==null?void 0:e.tabIndex,unstyled:e==null?void 0:e.unstyled,"aria-label":q("otpLabel",{0:r+1}),className:m("input")},v("input")),W=e!=null&&e.inputTemplate?z.getJSXElement(e==null?void 0:e.inputTemplate,{events:s,props:u}):b.createElement(te,w({},u,s)),J=[W].concat(T(i(n-1)));return J},V=f({className:m("root"),ref:c,style:e==null?void 0:e.style},v("root"));return b.createElement("div",V,H(e.length))}));de.displayName="InputOtp";export{de as I};
