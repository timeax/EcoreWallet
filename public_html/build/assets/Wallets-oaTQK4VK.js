import{r as a,j as e,c as S}from"./app-DPeqRPcX.js";import{T as v,g as W,C as y,P,i as N}from"./index-BtqGtben.js";import{C as b}from"./CryptoIcon-C9dw8rPY.js";import{A as z}from"./AuthenticatedLayout-BfKv6hjQ.js";import F from"./WalletInfo-B16ywsb3.js";import I from"./ExtraInfo-C2JIb41a.js";import{T as L}from"./index-Dfq4-ipG.js";import{C as A}from"./checkbox.esm-BRqDVDjx.js";import{L as R,u as k}from"./LiveContext-C6thlj0u.js";import{C as T}from"./currency-format-BghgJM0E.js";import{T as H}from"./TransactionDetail-Bbh_PUdh.js";import{S as $}from"./Select-CJRs8Qvl.js";import{h as q,g as G}from"./index-DOPl3nEV.js";import{I as E}from"./IconButton-lyUs3Fyy.js";import{C as M}from"./index-D7pfYsby.js";import{B as C}from"./index-BuV88OsN.js";import{D as U}from"./dialog.esm-B90dCpDH.js";import{s as J}from"./trade-input.module-BqZ4cehw.js";import{r as w}from"./index-DAW83uBr.js";import"./AuthenticatedContext-YAhfpYvk.js";import"./componentbase.esm-CEyx904k.js";import"./index.esm-UiDtkRAd.js";import"./objectWithoutPropertiesLoose-BwfzGx52.js";import"./iconbase.esm-CycjtHYb.js";import"./portal.esm-ZPKbRoAC.js";import"./index.esm-D2Mau25a.js";import"./ripple.esm-BKB6VsNq.js";import"./sidebar.esm-C28GSpQQ.js";import"./NoData-Bx3RbsXE.js";import"./icon-ntwga0O_.js";import"./Note-ClESBGl_.js";import"./StyledButton-ciDqVOpa.js";import"./iconBase-BE7iW8MJ.js";import"./avatar.esm-CbNomGyH.js";import"./Dropdown-VWJDfQuR.js";import"./info.module-CZDx9WL7.js";import"./tabview.esm-CgPeHz0w.js";import"./index.esm-DxvocRbz.js";import"./Chart-DmvjSYwF.js";import"./selectbutton.esm-VoZDkXIg.js";import"./tooltip.esm-B48pQ4fn.js";import"./index-CFd3A8tf.js";import"./datatable.esm-Bn6VL9qF.js";import"./button.esm-CxIIzWwq.js";import"./inputtext.esm-DpYC840t.js";import"./overlayservice.esm-Dx_aOCB9.js";import"./transaction-B2jSONvA.js";import"./HistorySection-Db8RK8j4.js";import"./index-CZiaJmKJ.js";import"./index-B-zkmOMm.js";const K="_page_1nl6l_2",O="_wallet_1nl6l_7",Q="_selected_1nl6l_11",V="_summary_1nl6l_15",X="_main_1nl6l_19",Y="_table_1nl6l_35",Z="_tradeButtons_1nl6l_48",ee="_walletCard_1nl6l_67",te="_select_1nl6l_11",se="_toolbar_1nl6l_113",h={page:K,wallet:O,selected:Q,summary:V,main:X,table:Y,tradeButtons:Z,walletCard:ee,select:te,toolbar:se},B=a.createContext();function re(){return a.useContext(B)}const ae=({children:n})=>{const[t,o]=a.useState([]),[p,u]=a.useState([]),[l,i]=a.useState(!1),[m,x]=a.useState("Select Currency"),[c,j]=a.useState();function r(s,d){x(d),u(s),o(s),i(!0)}return a.useEffect(()=>{c&&i(!1)},[c]),e.jsxs(B.Provider,{value:{selected:c,show:r},children:[n,e.jsx(U,{header:m,visible:l,className:J.currencyList,onHide:()=>{i(!1)},children:e.jsxs("div",{className:"m-0",children:[e.jsx(L,{placeholder:"Search",onChange:s=>{const d=(s.target.value||"").toLowerCase();if(d.trim()=="")return o(p);o(p.filter(_=>_.code.toLowerCase().includes(d)||_.curr_name.toLowerCase().includes(d)))}}),e.jsx("div",{className:"mt-4 flex flex-col",children:t==null?void 0:t.map(s=>e.jsxs("div",{className:"flex px-3 py-2 rounded-md hover:bg-theme-button cursor-pointer items-center",onClick:()=>{i(!1),j(s)},children:[e.jsxs("div",{className:"flex gap-2 items-center mr-auto",children:[e.jsx(b,{curr:s,height:"30px",width:"30px",size:"11px",name:s.curr_name,label:s.symbol}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(v,{bold:!0,noPad:!0,children:s.code}),e.jsx(v,{noPad:!0,children:s.curr_name})]})]}),e.jsx(E,{variant:"none",children:e.jsx(q,{})})]},s.id))})]})})]})},at=({auth:n,wallets:t,currencies:o,deposits:p,withdrawals:u,exchanges:l,transfers:i,...m})=>{const x=m.id?t.find(c=>c.id==m.id):t[0];return e.jsx(z,{user:n.user,...m,desc:"All available assets ranked in order of popularity (24H view)s",title:"Assets",children:e.jsx(ae,{children:e.jsx(H,{deposits:p,withdrawals:u,exchanges:l,currencies:o,transfers:i,children:e.jsx(R,{currencies:o,wallets:t,rates:!0,historicalData:!0,marketData:!0,children:e.jsx(le,{wallets:t,value:x})})})})})},le=({wallets:n,value:t})=>{const[o,p]=a.useState(t),[u,l]=a.useState(n),[i,m]=a.useState(!1),x=a.useRef({value:""}),[c,j]=a.useState(0);return a.useEffect(()=>{const r=x.current.value;l(n.filter(s=>{let d=!0;return r.trim().length>0&&(d=s.curr.code.toLowerCase().includes(r)||s.curr.curr_name.toLowerCase().includes(r)),d&&i&&(d=parseFloat(s.all_balance.total)>0),d}))},[c,i]),e.jsxs("div",{className:h.page,children:[e.jsxs("div",{className:S("flex gap-4",h.toolbar),children:[e.jsx(L,{placeholder:"Search All Wallets",onChange:r=>{const s=(r.target.value||"").toLowerCase();x.current.value=s,j(c+1)}}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{checked:i,onChange:r=>m(r.checked)}),e.jsx(v,{noPad:!0,lg:!0,children:"Hide all zero values"})]})]}),e.jsxs("div",{className:h.main,children:[e.jsx("div",{className:h.walletCard,children:e.jsx(oe,{...o||{},setWallet:p})}),e.jsx("div",{className:h.table,children:e.jsx("div",{className:"flex gap-y-2 flex-col",children:u.map(r=>e.jsx(ie,{current:o.id,wallet:r,change:p},r.id))})}),e.jsx("div",{className:h.summary,children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(F,{wallet:o}),e.jsx(I,{wallet:o})]})}),e.jsxs("div",{className:h.tradeButtons,children:[e.jsx(C,{href:route(w("swap").route,{code:o.curr.code}),centered:!0,size:"normal",shape:"pill",children:"Swap"}),e.jsx(C,{href:route(w("fund").route,{wallet:o.curr.code}),centered:!0,size:"normal",shape:"pill",children:"Deposit"}),e.jsx(C,{href:route(w("withdraw").route,{wallet:o.curr.code}),centered:!0,size:"normal",shape:"pill",children:"Send"})]})]})]})},oe=({all_balance:n,curr:t,crypto_id:o,setWallet:p})=>{const{rates:u,currency:l,marketData:i,convert:m,currencies:x,setCurr:c,wallets:j}=k(),[r,s]=a.useState();a.useEffect(()=>{var f;i&&s((f=i==null?void 0:i.find(g=>g.id==o))==null?void 0:f.data)},[i,o]);const d=W(t),{selected:_,show:D}=re();return a.useEffect(()=>{_&&p(j.find(f=>f.crypto_id==_.id))},[_]),e.jsxs(y,{"data-section":"wallet-mobile",children:[e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(b,{"data-section":"icon",width:"40px",curr:t}),e.jsx(v,{"data-section":"title",noPad:!0,lg:!0,brighter:!0,children:t==null?void 0:t.curr_name})]}),e.jsx($,{unique:"id",contained:!0,transaparent:!0,className:h.select,items:x.filter(f=>j.find(g=>g.crypto_id==g.id)||f.type==1),value:l,label:"code",gap:9,quick:!0,menuGap:9,textColor:d,onSelect:f=>c(f.value)})]}),e.jsxs("div",{className:"flex pb-2 justify-between items-end mt-2",children:[e.jsxs("div",{children:[e.jsx(v,{"data-section":"balance",noPad:!0,xl3:!0,bold:!0,children:n==null?void 0:n.available}),e.jsxs(v,{"data-section":"balance-to-fiat",noPad:!0,md:!0,brighter:!0,medium:!0,children:[l==null?void 0:l.symbol,e.jsx(T,{value:u&&m(t.code,(l==null?void 0:l.code)||"USD",n==null?void 0:n.total,4),displayType:"text",thousandSeparator:!0}),e.jsx("span",{className:"pl-1",children:l==null?void 0:l.code})]})]}),e.jsx("div",{children:e.jsx(P,{"data-section":"hr-percent",value:(r==null?void 0:r.price_change_percentage_24h)||0,percent:!0,shape:"999px",round:2,variant:"contained"})})]}),e.jsx("div",{className:"absolute py-2 w-full flex items-center justify-center bottom-0 left-0",children:e.jsx(E,{size:"small",sx:{background:`${M(d).fade(.8)} !important`,color:`${d} !important`,padding:".4rem !important"},onClick:()=>{D(j.map(f=>f.curr),"Select Wallet")},variant:"contained",shape:"circle",children:e.jsx(G,{})})})]})},ie=({change:n,wallet:t,current:o})=>{const{rates:p,marketData:u,currency:l,currRate:i}=k(),[m,x]=a.useState(),[c,j]=a.useState();return a.useEffect(()=>{x(i(t.curr.code))},[p]),a.useEffect(()=>{var r;u&&j((r=u==null?void 0:u.find(s=>s.id==t.crypto_id))==null?void 0:r.data)},[u,t]),e.jsx(y,{onClick:()=>n(t),className:S(h.wallet,{[h.selected]:t.id===o}),container:"!py-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(b,{curr:t.curr}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsx(v,{noPad:!0,md:!0,bold:!0,children:t.curr.curr_name}),e.jsx(v,{sm:!0,bright:!0,medium:!0,noPad:!0,children:t.curr.code})]})]}),e.jsx("div",{}),e.jsxs("div",{className:"flex flex-col justify-between items-end",children:[e.jsx(T,{value:p&&N.round((m==null?void 0:m.course)||0,3),thousandSeparator:!0,displayType:"text",renderText:r=>e.jsxs(v,{md:!0,medium:!0,noPad:!0,children:[l==null?void 0:l.symbol,r]})}),e.jsx(P,{weight:600,value:N.round((c==null?void 0:c.price_change_percentage_24h)||0,2)||0,percent:!0,variant:"text"})]})]})},t.id)};export{at as default};
