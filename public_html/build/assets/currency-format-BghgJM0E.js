import{n as F,r as B}from"./app-DPeqRPcX.js";var O={exports:{}},V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U=V,K=U;function R(){}function C(){}C.resetWarningCache=R;var G=function(){function i(e,t,r,o,a,n){if(n!==K){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}i.isRequired=i;function f(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:f,element:i,elementType:i,instanceOf:f,node:i,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:C,resetWarningCache:R};return u.PropTypes=u,u};O.exports=G();var A=O.exports;const ue=F(A);var y={};Object.defineProperty(y,"__esModule",{value:!0});y.noop=L;y.returnTrue=W;y.charIsNumber=$;y.escapeRegExp=q;y.fixLeadingZero=H;y.splitString=Z;y.limitToScale=E;y.roundToPrecision=Y;y.omit=z;y.setCaretPosition=J;function L(){}function W(){return!0}function $(i){return!!(i||"").match(/\d/)}function q(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function H(i){if(!i)return i;var f=i[0]==="-";f&&(i=i.substring(1,i.length));var u=i.split("."),e=u[0].replace(/^0+/,"")||"0",t=u[1]||"";return(f?"-":"")+e+(t?"."+t:"")}function Z(i,f){return[i.substring(0,f),i.substring(f)]}function E(i,f,u){for(var e="",t=u?"0":"",r=0;r<=f-1;r++)e+=i[r]||t;return e}function Y(i,f,u){var e=i.split("."),t=parseFloat("0."+(e[1]||"0")).toFixed(f).split("."),r=e[0].split("").reverse().reduce(function(a,n,s){return a.length>s?(Number(a[0])+Number(n)).toString()+a.substring(1,a.length):n+a},t[0]),o=E(t[1]||"",(e[1]||"").length,u);return r+(o?"."+o:"")}function z(i,f){var u={};return Object.keys(i).forEach(function(e){f[e]||(u[e]=i[e])}),u}function J(i,f){if(i.value=i.value,i!==null){if(i.createTextRange){var u=i.createTextRange();return u.move("character",f),u.select(),!0}return i.selectionStart||i.selectionStart===0?(i.focus(),i.setSelectionRange(f,f),!0):(i.focus(),!1)}}y.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"};var Q=Object.assign||function(i){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&(i[e]=u[e])}return i},X=function(){function i(f,u){for(var e=0;e<u.length;e++){var t=u[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(f,t.key,t)}}return function(f,u,e){return u&&i(f.prototype,u),e&&i(f,e),f}}(),ee=A,p=I(ee),te=B,w=I(te),m=y;function I(i){return i&&i.__esModule?i:{default:i}}function re(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}function ae(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:i}function ne(i,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}var M={thousandSeparator:p.default.oneOfType([p.default.string,p.default.oneOf([!0])]),thousandSpacing:p.default.oneOf(["2","2s","3","4"]),decimalSeparator:p.default.string,decimalScale:p.default.number,fixedDecimalScale:p.default.bool,displayType:p.default.oneOf(["input","text"]),prefix:p.default.string,suffix:p.default.string,format:p.default.oneOfType([p.default.string,p.default.func]),removeFormatting:p.default.func,mask:p.default.oneOfType([p.default.string,p.default.arrayOf(p.default.string)]),value:p.default.oneOfType([p.default.number,p.default.string]),isNumericString:p.default.bool,customInput:p.default.func,allowNegative:p.default.bool,onValueChange:p.default.func,onKeyDown:p.default.func,onMouseUp:p.default.func,onChange:p.default.func,onFocus:p.default.func,onBlur:p.default.func,type:p.default.oneOf(["text","tel"]),isAllowed:p.default.func,renderText:p.default.func},oe={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:m.noop,onChange:m.noop,onKeyDown:m.noop,onMouseUp:m.noop,onFocus:m.noop,onBlur:m.noop,isAllowed:m.returnTrue},k=function(i){ne(f,i);function f(u){re(this,f);var e=ae(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,u));e.validateProps();var t=e.formatValueProp();return e.state={value:t,numAsString:e.removeFormatting(t)},e.onChange=e.onChange.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e}return X(f,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,r=this.state;if(e!==t){this.validateProps();var o=r.value,a=r.numAsString||"",n=t.value===void 0?this.formatNumString(a):this.formatValueProp();n!==o&&this.setState({value:n,numAsString:this.removeFormatting(n)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=this.getSeparators(),r=t.decimalSeparator,o=this.getNumberRegex(!0),a=e[0]==="-";a&&(e=e.replace("-","")),e=(e.match(o)||[]).join("").replace(r,".");var n=e.indexOf(".");return n!==-1&&(e=e.substring(0,n)+"."+e.substring(n+1,e.length).replace(new RegExp((0,m.escapeRegExp)(r),"g"),"")),a&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var r=this.props,o=r.format,a=r.decimalScale,n=this.getSeparators(),s=n.decimalSeparator;return new RegExp("\\d"+(s&&a!==0&&!t&&!o?"|"+(0,m.escapeRegExp)(s):""),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,r=e.thousandSpacing,o=this.props.thousandSeparator;return o===!0&&(o=","),{decimalSeparator:t,thousandSeparator:o,thousandSpacing:r}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,r=t===void 0?" ":t;return typeof r=="string"?r:r[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),r=t.decimalSeparator,o=t.thousandSeparator;if(r===o)throw new Error(`
          Decimal separator can't be same as thousand separator.

          thousandSeparator: `+o+` (thousandSeparator = {true} is same as thousandSeparator = ",")
          decimalSeparator: `+r+` (default value for decimalSeparator is .)
       `);if(e){var a=e==="string"?e:e.toString();if(a.match(/\d/g))throw new Error(`
          Mask `+e+` should not contain numeric character;
        `)}}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,r=e[0]==="-",o=r&&t;e=e.replace("-","");var a=e.split("."),n=a[0],s=a[1]||"";return{beforeDecimal:n,afterDecimal:s,hasNagation:r,addNegation:o}}},{key:"setPatchedCaretPosition",value:function(e,t,r){(0,m.setCaretPosition)(e,t),setTimeout(function(){e.value===r&&(0,m.setCaretPosition)(e,t)},0)}},{key:"correctCaretPosition",value:function(e,t,r){var o=this.props,a=o.prefix,n=o.suffix,s=o.format;if(!s){var c=e[0]==="-";return Math.min(Math.max(t,a.length+(c?1:0)),e.length-n.length)}if(typeof s=="function"||s[t]==="#"&&(0,m.charIsNumber)(e[t])||s[t-1]==="#"&&(0,m.charIsNumber)(e[t-1]))return t;var l=s.indexOf("#"),h=s.lastIndexOf("#");t=Math.min(Math.max(t,l),h+1);for(var v=s.substring(t,s.length).indexOf("#"),g=t,d=t+(v===-1?0:v);g>l&&(s[g]!=="#"||!(0,m.charIsNumber)(e[g]));)g-=1;var x=!(0,m.charIsNumber)(e[d])||r==="left"&&t!==l||t-g<d-t;return x?g+1:d}},{key:"getCaretPosition",value:function(e,t,r){var o=this.props.format,a=this.state.value,n=this.getNumberRegex(!0),s=(e.match(n)||[]).join(""),c=(t.match(n)||[]).join(""),l=void 0,h=void 0;for(l=0,h=0;h<r;h++){var v=e[h]||"",g=t[l]||"";if(!(!v.match(n)&&v!==g)&&!(v==="0"&&g.match(n)&&g!=="0"&&s.length!==c.length)){for(;v!==t[l]&&l<t.length;)l++;l++}}return typeof o=="string"&&!a&&(l=t.length),l=this.correctCaretPosition(t,l),l}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,r=t.format,o=t.prefix,a=t.suffix;if(!r&&e){var n=e[0]==="-";n&&(e=e.substring(1,e.length)),e=o&&e.indexOf(o)===0?e.substring(o.length,e.length):e;var s=e.lastIndexOf(a);e=a&&s!==-1&&s===e.length-a.length?e.substring(0,s):e,n&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format,r=t.split("#").filter(function(h){return h!==""}),o=0,a="",n=0,s=r.length;n<=s;n++){var c=r[n]||"",l=n===s?e.length:e.indexOf(c,o);if(l===-1){a=e;break}else a+=e.substring(o,l),o=l+c.length}return(a.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,r=t.format,o=t.removeFormatting;return e&&(r?typeof r=="string"?e=this.removePatternFormatting(e):typeof o=="function"?e=o(e):e=(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e)}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,r=0,o=t.split(""),a=0,n=t.length;a<n;a++)t[a]==="#"&&(o[a]=e[r]||this.getMaskAtIndex(r),r+=1);return o.join("")}},{key:"formatThousand",value:function(e,t,r){var o=void 0;switch(r){case m.thousandGroupSpacing.two:o=/(\d)(?=(\d{2})+(?!\d))/g;break;case m.thousandGroupSpacing.twoScaled:o=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case m.thousandGroupSpacing.four:o=/(\d)(?=(\d{4})+(?!\d))/g;break;default:o=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(o,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,r=t.decimalScale,o=t.fixedDecimalScale,a=t.prefix,n=t.suffix,s=this.getSeparators(),c=s.thousandSeparator,l=s.decimalSeparator,h=s.thousandSpacing,v=e.indexOf(".")!==-1||r&&o,g=this.splitDecimal(e),d=g.beforeDecimal,x=g.afterDecimal,P=g.addNegation;return r!==void 0&&(x=(0,m.limitToScale)(x,r,o)),c&&(d=this.formatThousand(d,c,h)),a&&(d=a+d),n&&(x=x+n),P&&(d="-"+d),e=d+(v&&l||"")+x,e}},{key:"formatNumString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=this.props.format,r=e;return e===""?r="":e==="-"&&!t?(r="-",e=""):typeof t=="string"?r=this.formatWithPattern(r):typeof t=="function"?r=t(r):r=this.formatAsNumber(r),r}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,r=e.decimalScale,o=e.fixedDecimalScale,a=this.props,n=a.value,s=a.isNumericString;if(n===void 0)return"";typeof n=="number"&&(n=n.toString(),s=!0),s&&!t&&typeof r=="number"&&(n=(0,m.roundToPrecision)(n,r,o));var c=s?this.formatNumString(n):this.formatInput(n);return c}},{key:"formatNegation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=this.props.allowNegative,r=new RegExp("(-)"),o=new RegExp("(-)(.)*(-)"),a=r.test(e),n=o.test(e);return e=e.replace(/-/g,""),a&&!n&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=this.props.format;return t||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var r=this.props,o=r.format,a=r.prefix,n=r.suffix,s=r.decimalScale,c=r.fixedDecimalScale,l=this.getSeparators(),h=l.decimalSeparator;return!!(typeof o=="string"&&o[e]!=="#"||!o&&(e<a.length||e>=t.length-n.length||s&&c&&t[e]===h))}},{key:"checkIfFormatGotDeleted",value:function(e,t,r){for(var o=e;o<t;o++)if(this.isCharacterAFormat(o,r))return!0;return!1}},{key:"correctInputValue",value:function(e,t,r){var o=this.props.format,a=this.state.numAsString||"";if(r.length>=t.length||!r.length)return r;var n=e,s=(0,m.splitString)(t,e),c=(0,m.splitString)(r,e),l=s[1].lastIndexOf(c[1]),h=l!==-1?s[1].substring(0,l):"",v=n+h.length;if(this.checkIfFormatGotDeleted(n,v,t)&&(r=t),!o){var g=this.removeFormatting(r),d=this.splitDecimal(g),x=d.beforeDecimal,P=d.afterDecimal,b=d.addNegation;if(g.length<a.length&&x===""&&!parseFloat(P))return b?"-":""}return r}},{key:"onChange",value:function(e){e.persist();var t=e.target,r=t.value,o=this.state,a=this.props,n=a.isAllowed,s=o.value||"",c=Math.max(t.selectionStart,t.selectionEnd);r=this.correctInputValue(c,s,r);var l=this.formatInput(r)||"",h=this.removeFormatting(l),v={formattedValue:l,value:h,floatValue:parseFloat(h)};n(v)||(l=s),t.value=l;var g=this.getCaretPosition(r,l,c);this.setPatchedCaretPosition(t,g,l),l!==s?this.setState({value:l,numAsString:h},function(){a.onValueChange(v),a.onChange(e)}):a.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,r=this.state,o=t.format,a=t.onBlur,n=r.numAsString,s=r.value;if(!o){n=(0,m.fixLeadingZero)(n);var c=this.formatNumString(n),l={formattedValue:c,value:n,floatValue:parseFloat(n)};if(c!==s){e.persist(),this.setState({value:c,numAsString:n},function(){t.onValueChange(l),a(e)});return}}a(e)}},{key:"onKeyDown",value:function(e){var t=e.target,r=e.key,o=t.selectionEnd,a=t.value,n=t.selectionStart,s=void 0,c=this.props,l=c.decimalScale,h=c.fixedDecimalScale,v=c.prefix,g=c.suffix,d=c.format,x=c.onKeyDown,P=l!==void 0&&h,b=this.getNumberRegex(!1,P),N=new RegExp("-"),D=typeof d=="string";if(r==="ArrowLeft"||r==="Backspace"?s=n-1:r==="ArrowRight"?s=n+1:r==="Delete"&&(s=n),s===void 0||n!==o){x(e);return}var S=s,T=D?d.indexOf("#"):v.length,_=D?d.lastIndexOf("#")+1:a.length-g.length;if(r==="ArrowLeft"||r==="ArrowRight"){var j=r==="ArrowLeft"?"left":"right";S=this.correctCaretPosition(a,s,j)}else if(r==="Delete"&&!b.test(a[s])&&!N.test(a[s]))for(;!b.test(a[S])&&S<_;)S++;else if(r==="Backspace"&&!b.test(a[s])&&!N.test(a[s])){for(;!b.test(a[S-1])&&S>T;)S--;S=this.correctCaretPosition(a,S,"left")}(S!==s||s<T||s>_)&&(e.preventDefault(),this.setPatchedCaretPosition(t,S,a)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,S,a),this.props.onKeyDown(e)}},{key:"onMouseUp",value:function(e){var t=e.target,r=t.selectionStart,o=t.selectionEnd,a=t.value;if(r===o){var n=this.correctCaretPosition(a,r);n!==r&&this.setPatchedCaretPosition(t,n,a)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout(function(){var r=e.target,o=r.selectionStart,a=r.value,n=t.correctCaretPosition(a,o);n!==o&&t.setPatchedCaretPosition(r,n,a),t.props.onFocus(e)})}},{key:"render",value:function(){var e=this.props,t=e.type,r=e.displayType,o=e.customInput,a=e.renderText,n=this.state.value,s=(0,m.omit)(this.props,M),c=Q({},s,{type:t,value:n,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if(r==="text")return a?a(n)||null:w.default.createElement("span",s,n);if(o){var l=o;return w.default.createElement(l,c)}return w.default.createElement("input",c)}}]),f}(w.default.Component);k.propTypes=M;k.defaultProps=oe;var ie=k;const fe=F(ie);export{fe as C,ue as P,A as p};
