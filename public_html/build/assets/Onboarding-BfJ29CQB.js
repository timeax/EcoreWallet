import{r as d,j as e,W as ce,c as de}from"./app-DPeqRPcX.js";import{B as F}from"./index-BuV88OsN.js";/* empty css                   */import{T as N,C as G,s as ue,a as pe}from"./index-BtqGtben.js";import{T as L}from"./index-Dfq4-ipG.js";import{N as me}from"./Note-ClESBGl_.js";import{F as ve,a as fe}from"./index-DOPl3nEV.js";import{P as xe}from"./index-CFd3A8tf.js";import{F as he}from"./index-euvBnKB1.js";import{r as be,G as _e}from"./index-DAW83uBr.js";import{R as je}from"./index-C25-0pYC.js";import{I as U}from"./IconButton-lyUs3Fyy.js";import{O as ge}from"./overlaypanel.esm-CFxPUeIg.js";import{A as ye,u as Ne}from"./AuthenticatedContext-YAhfpYvk.js";import{_ as q,a as ke}from"./objectWithoutPropertiesLoose-BwfzGx52.js";import{g as Pe,a as Ce,s as qe,b as $,u as we,c as Be,d as Fe}from"./DefaultPropsProvider-D26WL4Gi.js";import"./StyledButton-ciDqVOpa.js";import"./inputtext.esm-DpYC840t.js";import"./componentbase.esm-CEyx904k.js";import"./tooltip.esm-B48pQ4fn.js";import"./portal.esm-ZPKbRoAC.js";import"./iconBase-BE7iW8MJ.js";import"./index-B-zkmOMm.js";import"./index.esm-UiDtkRAd.js";import"./iconbase.esm-CycjtHYb.js";import"./overlayservice.esm-Dx_aOCB9.js";import"./ripple.esm-BKB6VsNq.js";import"./index.esm-D2Mau25a.js";import"./sidebar.esm-C28GSpQQ.js";import"./NoData-Bx3RbsXE.js";import"./Select-CJRs8Qvl.js";import"./Dropdown-VWJDfQuR.js";import"./resolveProps-DGHzvMqG.js";const Ie="_wrapper_qa131_1",Re="_main_title_qa131_9",Te="_parent_qa131_40",Ae="_headerBox_qa131_63",De="_title_qa131_73",Oe="_info_qa131_77",Ee="_page_qa131_81",Se="_content_qa131_87",Le="_head_qa131_63",Ue="_counter_qa131_101",$e="_body_qa131_129",Me="_uploadbody_qa131_149",We="_one_qa131_155",ze="_btn_qa131_167",Ye="_select_qa131_177",Ge="_unselect_qa131_191",He="_two_qa131_199",Ke="_uploadbox_qa131_203",Ve="_describe_qa131_217",Ze="_arrowbx_qa131_226",Je="_lastcontent_qa131_237",Qe="_btngroup_qa131_243",Xe="_uploads_qa131_249",ea="_uploadContainer_qa131_261",r={wrapper:Ie,main_title:Re,parent:Te,headerBox:Ae,title:De,info:Oe,page:Ee,content:Se,head:Le,counter:Ue,body:$e,uploadbody:Me,one:We,btn:ze,select:Ye,unselect:Ge,two:He,uploadbox:Ke,describe:Ve,arrowbx:Ze,lastcontent:Je,btngroup:Qe,uploads:Xe,uploadContainer:ea},M=s=>{let o;return s<1?o=5.11916*s**2:o=4.5*Math.log(s+1)+2,(o/100).toFixed(2)};function aa(s){return Pe("MuiPaper",s)}Ce("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ta=["className","component","elevation","square","variant"],sa=s=>{const{square:o,elevation:c,variant:u,classes:m}=s,n={root:["root",u,!o&&"rounded",u==="elevation"&&`elevation${c}`]};return Fe(n,aa,m)},oa=qe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:c}=s;return[o.root,o[c.variant],!c.square&&o.rounded,c.variant==="elevation"&&o[`elevation${c.elevation}`]]}})(({theme:s,ownerState:o})=>{var c;return q({backgroundColor:(s.vars||s).palette.background.paper,color:(s.vars||s).palette.text.primary,transition:s.transitions.create("box-shadow")},!o.square&&{borderRadius:s.shape.borderRadius},o.variant==="outlined"&&{border:`1px solid ${(s.vars||s).palette.divider}`},o.variant==="elevation"&&q({boxShadow:(s.vars||s).shadows[o.elevation]},!s.vars&&s.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${$("#fff",M(o.elevation))}, ${$("#fff",M(o.elevation))})`},s.vars&&{backgroundImage:(c=s.vars.overlays)==null?void 0:c[o.elevation]}))}),ra=d.forwardRef(function(o,c){const u=we({props:o,name:"MuiPaper"}),{className:m,component:n="div",elevation:j=1,square:p=!1,variant:g="elevation"}=u,i=ke(u,ta),x=q({},u,{component:n,elevation:j,square:p,variant:g}),y=sa(x);return e.jsx(oa,q({as:n,ownerState:x,className:Be(y.root,m),ref:c},i))}),ia="Kindly input your correct details. This information can't be edited after submission",P={fname:{label:"First Name",value:void 0},lname:{label:"Last Name",value:void 0},tgram:{label:"Middle Name",optional:!0,value:void 0},email:{label:"Email Address",optional:void 0,value:void 0},phone:{label:"Phone Number",value:void 0},dob:{label:"Date of Birth",value:void 0}},C={home1:{label:"Address Line 1",value:void 0},home2:{label:"Address Line 2",optional:!0,value:void 0},city:{label:"City",value:void 0},state:{label:"State",value:void 0},country:{label:"Country",value:void 0},zip:{label:"Zip Code",value:void 0}},W={header:"KYC Verification",info:"  "},I={personal:{title:"Personal Details",info:"Please type carefully and fill out the form with your personal details as shown in your ID. ",fields:P},address:{title:"Home Address",info:"Your basic address required for identity verification",fields:C},document:{title:"Document Upload",info:"Unclear images & Expired documents & Images with glare will all be rejected",fields:["Passport","National ID ","Driver License"]}},za=({auth:s})=>e.jsx(ye,{user:s.user,children:e.jsx("div",{className:r.wrapper,children:e.jsx(na,{header:W.header,info:W.info,fields:I})})}),na=({header:s,fields:o,info:c})=>{const[u,m]=d.useState(!1),[n,j]=d.useState(0),[p,g]=d.useState(0),[i,x]=d.useState(""),[y,w]=d.useState("front"),h=d.useRef({front:"",back:""}),[k,H]=d.useState(!1);d.useEffect(()=>{k&&J(route("user.onboarding.post"))},[k]);const K=["passport","national_id","drivers_licence"],V=[e.jsx(ve,{}),e.jsx(xe,{}),e.jsx(fe,{})];d.useEffect(()=>{x(K[p])},[p]);const{data:ca,errors:Z,post:J,setData:Q}=ce();console.log(Z);const R=a=>{let t={};return Object.keys(a).forEach(l=>{a[l],t={...t,[l]:""}}),t},[b,X]=d.useState(R(P)),[_,ee]=d.useState(R(C)),ae=Ne();d.useEffect(()=>{Y?Y=!1:m(!1),u&&ae({closable:!0,severity:"error",summary:"Please fill in all required (*) fields "})},[n,u]);const te=()=>{const a={...h.current,...C,...P};return Object.keys(C).forEach(t=>{let l=t;a[l].value=_[l]}),Object.keys(P).forEach(t=>{let l=t;a[l].value=b[l]}),se(a),a};function se(a){Q({city:a.city.value,country:a.country.value,dob:a.dob.value,email:a.email.value,fname:a.fname.value,home1:a.home1.value,home2:a.home2.value,idBack:a.back,idFront:a.front,idType:i,lname:a.lname.value,phone:a.phone.value,state:a.state.value,mname:a.tgram.value,zip:a.zip.value})}const oe=()=>{let a=!0;e:switch(n){case 0:for(const t in b)if(Object.prototype.hasOwnProperty.call(b,t)){const l=I.personal.fields[t],v=b[t];if(l.optional)continue;if(a=a==!!(v+"").replaceAll(" ",""),!a)break e}break;case 1:for(const t in _)if(Object.prototype.hasOwnProperty.call(_,t)){const l=I.address.fields[t],v=_[t];if(l.optional)continue;if(a=a==!!(v+"").replaceAll(" ",""),!a)break e}break;case 2:a=!(!h.current.front||!h.current.back),te();break}if(a)return n==2&&H(!0),!0;m(!0)},re=(a,t)=>{let l=p==t?r.select:r.unselect;return e.jsxs("div",{onClick:()=>{y=="front"&&g(t)},className:r.btn+" "+l,children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[V[t],e.jsx(N,{noPad:!0,sm:!0,light:!0,children:a})]})," ",e.jsx("div",{className:l,children:e.jsx("i",{className:"pi pi-check"})})]},t)},ie=a=>e.jsxs("div",{className:de("flex gap-8 mt-4",r.uploadContainer),children:[e.jsx(z,{label:"Front side",onChange:t=>{h.current.front=t}}),e.jsx(z,{label:"Back side",onChange:t=>{h.current.back=t}})]}),T=(a,t)=>e.jsx("div",{className:r.page,children:e.jsxs(G,{className:r.content,children:[e.jsxs("div",{className:r.head,children:[e.jsx("div",{className:r.counter,children:"0"+(n+1)}),e.jsxs("div",{className:r.headerBox,children:[e.jsx(N,{noPad:!0,bold:!0,className:r.title,children:a==null?void 0:a.title}),e.jsx("div",{className:r.info,children:ia})]})]}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx(me,{className:"!flex-row !m-0 !pl-0 items-start !gap-1",iconClass:"!text-[.95em] pt-1",titleClass:"!text-[.85em] normal-case !font-[400] text-theme-text",title:a==null?void 0:a.info}),t]})]})}),ne=a=>{var t;return T(a,e.jsxs("div",{className:r.uploadbody,children:[e.jsx("div",{className:r.one,children:(t=a==null?void 0:a.fields)==null?void 0:t.map((l,v)=>re(l,v))}),ie()]}))},A=a=>{const t=a==null?void 0:a.fields;if(t){const l=Object.keys(t);return T(a,e.jsx("div",{className:r.body,children:l.map((v,da)=>{const D=t[v];let f=v;const O=!D.optional,B=D.label,E=S=>{n?ee({..._,[f]:S.target.value}):X({...b,[f]:S.target.value})};return B.toLowerCase().includes("date")?e.jsx(L,{onChange:E,value:n?_[f]:b[f],required:O,type:"date",label:B},f):e.jsx("div",{className:r.textfield,children:e.jsx(L,{value:n?_[f]:b[f],onChange:E,required:O,label:B})},f)})}))}},le=[A(o.personal),A(o.address),ne(o.document),la()];return e.jsxs("div",{className:r.parent,children:[e.jsxs("div",{className:r.headerBox,children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx(F,{href:route(be("dashboard").route),icon:e.jsx(he,{}),variant:"none",children:"Back"}),e.jsx(N,{noPad:!0,className:r.main_title,xl4:!0,bold:!0,children:s})]}),e.jsx("div",{className:r.info,children:c})]}),le[n],e.jsxs("div",{className:r.btngroup,children:[n>0&&n<3?e.jsx(F,{variant:"contained",onClick:()=>{j(a=>a-1)},shape:"pill",children:"Previous"}):void 0,n<3?e.jsx(F,{onClick:()=>{oe()&&j(a=>a+1)},shape:"pill",variant:"contained",children:"Next"}):void 0]})]})},z=({label:s,value:o,onChange:c})=>{const[u,m]=d.useState(o),[n,j]=d.useState(),p=d.useRef(),g=d.useRef(null);return e.jsxs(G,{className:r.uploads,container:r.main,children:[e.jsxs("div",{className:"flex items-center flex-col gap-3 justify-center",children:[e.jsx(N,{noPad:!0,normal:!0,lg:!0,children:s}),ue(!u,e.jsx(U,{onClick:()=>{var i;return(i=p.current)==null?void 0:i.click()},className:"!bg-primary-300 !text-white rounded-md !text-[1.5em] !px-4 !py-3",variant:"contained",children:e.jsx(je,{})}),e.jsx(U,{onClick:i=>g.current.toggle(i),className:"!bg-success-300 !text-white rounded-md !text-[1.5em] !px-4 !py-3",variant:"contained",children:e.jsx(_e,{})})),e.jsx(ge,{ref:g,children:e.jsx("img",{src:n,alt:"Bamboo Watch"})}),e.jsx("div",{onClick:()=>{var i;return(i=p.current)==null?void 0:i.click()},children:e.jsx(N,{noPad:!0,normal:!0,md:!0,children:"Click here to upload"})}),e.jsx("div",{onClick:()=>{var i;return(i=p.current)==null?void 0:i.click()},className:"flex gap-2 items-center justify-center",children:["png","jpg","pdf"].map(i=>e.jsx(pe,{className:"border py-1 px-2 rounded-lg",element:"div",children:e.jsx(N,{upper:!0,noPad:!0,brighter:!0,children:i})},i))})]}),e.jsx("input",{ref:p,onChange:i=>{var y,w;m(i.target.files);const x=new FileReader;x.onload=h=>{var k;j((k=h.target)==null?void 0:k.result)},x.readAsDataURL((w=(y=p.current)==null?void 0:y.files)==null?void 0:w[0]),c==null||c(i.target.files[0],n)},hidden:!0,type:"file"})]})},la=()=>e.jsx("div",{className:r.page,children:e.jsxs(ra,{className:r.content+" "+r.lastcontent,children:["Your Information is under review. ",e.jsx("br",{}),"We'll get back to you shortly"]})});let Y=!0;export{za as default};
