import{r as h,j as e,c as N,d as i}from"./app-DPeqRPcX.js";import{U as v,d as C,T as r,s as P,a as _,g as T,r as b}from"./index-BtqGtben.js";import{u as k}from"./LiveContext-C6thlj0u.js";import{C as L}from"./currency-format-BghgJM0E.js";import{S as w}from"./sidebar.esm-C28GSpQQ.js";import{S as E}from"./SparkLineChart-HV9NeAH3.js";import"./componentbase.esm-CEyx904k.js";import"./index.esm-UiDtkRAd.js";import"./objectWithoutPropertiesLoose-BwfzGx52.js";import"./iconbase.esm-CycjtHYb.js";import"./portal.esm-ZPKbRoAC.js";import"./ripple.esm-BKB6VsNq.js";import"./DefaultPropsProvider-D26WL4Gi.js";import"./resolveProps-DGHzvMqG.js";import"./useEnhancedEffect-AJ7aGHKx.js";const F=({currencies:l})=>{const{marketData:o,rates:m}=k(),[s,x]=h.useState(),[j,p]=h.useState(!1),[u,a]=h.useState(!1),c=e.jsx("div",{children:e.jsx(r,{noPad:!0,xl:!0,medium:!0,className:"items-center",children:"Market Trend"})});return h.useEffect(()=>{if(j)return p(!1);o&&m&&s&&x(s.map(t=>{var g;let d=l.find(n=>n.id==t.id),f=(g=m.find(n=>n.id==(d==null?void 0:d.id)))==null?void 0:g.data.find(n=>n.from==(d==null?void 0:d.code)&&n.to=="USD");return f?{id:t.id,data:{...t.data,current_price:parseFloat(f.course)}}:t}))},[m]),h.useEffect(()=>{o&&(p(!0),x([...o]))},[o]),e.jsxs("section",{className:"!mb-0",children:[e.jsx(v,{className:N("max-h-[400px]",i.prices),header:e.jsx(C,{title:"Market trends",children:e.jsx(r,{noPad:!0,className:"cursor-pointer",onClick:()=>a(!0),children:"See all"})}),children:P(((s==null?void 0:s.length)||0)>0,e.jsx(e.Fragment,{children:s==null?void 0:s.slice(0,4).map(t=>e.jsx(S,{currencies:l,...t},t.id))}),e.jsx(r,{noPad:!0,className:"pb-4",children:"Nothing to show here"}))}),e.jsx(w,{className:N("!bg-theme-bgColor",i.allPrices),position:"right",header:c,visible:u,onHide:()=>a(!1),children:P(((s==null?void 0:s.length)||0)>0,e.jsx(e.Fragment,{children:s==null?void 0:s.map(t=>e.jsx(S,{currencies:l,...t},t.id))}),e.jsx(r,{noPad:!0,className:"pb-4",children:"Nothing to show here"}))})]})},S=({currencies:l,id:o,data:{current_price:m,high_24h:s,image:x,low_24h:j,price_change_percentage_24h:p,sparkline_in_7d:u}})=>{const a=l.find(c=>c.id==o);return a?e.jsxs("div",{className:i.price_element,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{element:"img",src:x,alt:""}),e.jsxs("div",{children:[e.jsx(r,{noPad:!0,bold:!0,className:i.price_name,children:a==null?void 0:a.curr_name}),e.jsx(r,{noPad:!0,children:a==null?void 0:a.code})]})]}),e.jsx("div",{className:i.graph,children:e.jsx(E,{colors:[T(a)],height:35,data:u.price})}),e.jsxs("div",{className:i.price_area,children:[e.jsxs(r,{className:i.price_change,noPad:!0,children:[b(p,2),"%"]}),e.jsxs(r,{bold:!0,noPad:!0,children:["$",e.jsx(L,{value:b(m,4),displayType:"text",thousandSeparator:!0,renderText:c=>e.jsx("span",{children:c})})]})]})]}):""},K=F;export{K as default};
