import{u as H,j as e,c as o,r as l,a as P,P as U,O as C,W as q}from"./app-Dy4LvLRF.js";import{a as D,c as K,d as V,A as W}from"./AuthenticatedContext-DYcGaU71.js";import{g as G,r as Y,f as J,h as Q,i as X,j as Z}from"./index-O4j8kqIm.js";import{l as ee}from"./icon-ntwga0O_.js";import{a as z,s as p,T as f,j as te}from"./index-BJExDeV9.js";import{N as L}from"./Note-Qrm8FgDR.js";import{I as O}from"./IconButton-F67XAmfK.js";import{G as M}from"./iconBase-DZCv2ijQ.js";import{A as se}from"./avatar.esm-BP5CrG_R.js";import{D as u}from"./Dropdown-Cgtiaw3a.js";import{m as ne,n as ae,o as re}from"./index-d7zu85NA.js";import{C as ie,u as oe,a as ce}from"./componentbase.esm-Ba9buBfq.js";import{S as le}from"./Select-BZEsACh4.js";import{B as E}from"./index-dnLEsu6m.js";const de="_container_a1nzn_1",me="_main_a1nzn_43",ue="_sidebar_a1nzn_53",he="_open_a1nzn_92",pe="_mobileDesc_a1nzn_120",ve="_active_a1nzn_125",xe="_bottombar_a1nzn_129",fe="_bottombar_nav_a1nzn_144",_e="_b_icon_a1nzn_148",ge="_b_navlist_a1nzn_152",be="_b_navlink_a1nzn_158",je="_b_navgroup_a1nzn_181",ye="_quick_actions_a1nzn_190",Ne="_button_a1nzn_190",we="_mask_a1nzn_216",d={container:de,main:me,"sidebar-opened":"_sidebar-opened_a1nzn_53",sidebar:ue,open:he,mobileDesc:pe,active:ve,bottombar:xe,bottombar_nav:fe,b_icon:_e,b_navlist:ge,b_navlink:be,b_navgroup:je,quick_actions:ye,button:Ne,mask:we},ke="_navlink_14ts9_1",ze="_header_14ts9_1",Pe="_main_14ts9_7",Be="_navitem_14ts9_27",Oe="_label_14ts9_31",Se="_dot_14ts9_57",Ce="_navlist_14ts9_62",Le="_active_14ts9_84",Ee="_sidebarOpen_14ts9_119",Ae="_verify_14ts9_138",h={navlink:ke,header:ze,main:Pe,navitem:Be,label:Oe,"nav-item-icon":"_nav-item-icon_14ts9_54",dot:Se,navlist:Ce,active:Le,sidebarOpen:Ee,verify:Ae},De="/build/assets/logo1-B4LN1CRh.png",Me="/build/assets/logo2-DzbfrWOb.png",Te=({open:t})=>{const{theme:s}=H(),n=D();return e.jsxs("div",{className:o(h.main,{[h.sidebarOpen]:t}),children:[e.jsxs("div",{className:h.header,children:[e.jsx(z,{element:"img","data-section":"img-open",width:"170px",className:o({"!hidden":s!=="light"}),src:De,alt:""}),e.jsx(z,{element:"img","data-section":"img-open",width:"170px",className:o({"!hidden":s!=="dark"}),src:Me,alt:""}),e.jsx(z,{element:"img",width:"30px","data-section":"img-close",src:ee,alt:""})]}),e.jsxs("div",{className:"grow flex gap-y-12 flex-col",children:[G().map((a,i)=>e.jsx("div",{className:`${h.navlist}`,children:a.map(x=>l.createElement(Ie,{sidebarOpen:t,...x,key:x.id}))},i)),e.jsxs("div",{className:h.verify,children:[p(n.kyc_status=="0",e.jsx(P,{href:route("user.onboarding"),children:e.jsx(L,{title:"",variant:"warning",className:"!p-0 !my-0 !gap-1 !flex-row",children:"KYC Verify"})})),p(n.two_fa_status=="0",e.jsx(P,{href:route(Y("settings").route),children:e.jsx(L,{title:"",variant:"tip",className:"!p-0 !gap-1 !flex-row",children:"Enable 2FA"})}))]})]})]})},Ie=({route:t,label:s,icon:n,sidebarOpen:a})=>e.jsx("div",{className:o(h.navitem),children:e.jsxs(P,{href:route(t),className:o(h.navlink,{[h.active]:route().current()===t}),children:[e.jsx("span",{className:h["nav-item-icon"],children:n}),e.jsxs("div",{className:"relative h-[19px]",children:[e.jsx("span",{className:o({[h.label]:!a}),children:e.jsx("span",{children:s})}),e.jsx("span",{className:o({[h.dot]:!a})})]})]})}),$e=Te;function Fe(t){return M({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}const Re="_avatarText_1iawc_1",He="_sticky_1iawc_20",Ue="_titlebar_1iawc_33",qe="_stickyAnchor_1iawc_37",Ke="_nav_1iawc_76",Ve="_themeBtn_1iawc_97",We="_desc_1iawc_114",Ge="_search_1iawc_119",Ye="_headernav_1iawc_123",Je="_menuButton_1iawc_128",Qe="_notifications_1iawc_145",c={avatarText:Re,sticky:He,titlebar:Ue,stickyAnchor:qe,nav:Ke,themeBtn:Ve,desc:We,search:Ge,headernav:Ye,menuButton:Je,notifications:Qe},Xe=({title:t,data:s,date:n})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-notice-box flex flex-col gap-1",children:[e.jsx("div",{className:"title-box",children:e.jsx(f,{sm:!0,bold:!0,noPad:!0,className:"title",children:t})}),e.jsx("div",{className:"info-box flex items-center",children:e.jsx(f,{noPad:!0,sm:!0,bright:!0,normal:!0,className:"info",children:s})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(f,{noPad:!0,normal:!0,xs:!0,className:"gap-1",children:[e.jsx("i",{children:new Date(n).toLocaleDateString(void 0,{dateStyle:"medium"})}),e.jsx("i",{children:"at"}),e.jsx("i",{children:new Date(n).toLocaleTimeString()})]}),e.jsx(O,{variant:"none",children:e.jsx("i",{className:"pi pi-angle-right"})})]})]})});function Ze(t){return M({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1 0 80 0 40 40 0 1 0-80 0zm0 144a40 40 0 1 0 80 0 40 40 0 1 0-80 0zm0 144a40 40 0 1 0 80 0 40 40 0 1 0-80 0z"},child:[]}]})(t)}function w(t){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},w(t)}function et(t,s){if(w(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,s||"default");if(w(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function tt(t){var s=et(t,"string");return w(s)==="symbol"?s:String(s)}function T(t,s,n){return s=tt(s),s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}var st={root:function(s){var n=s.props;return o("p-badge p-component",T({"p-badge-no-gutter":C.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":C.isEmpty(n.value),"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge"},"p-badge-".concat(n.severity),n.severity!==null))}},nt=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,k=ie.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:st,styles:nt}});function A(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function at(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?A(Object(n),!0).forEach(function(a){T(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var I=l.memo(l.forwardRef(function(t,s){var n=oe(),a=l.useContext(U),i=k.getProps(t,a),x=k.setMetaData(at({props:i},i.__parentMetadata)),N=x.ptm,g=x.cx,v=x.isUnstyled;ce(k.css.styles,v,{name:"badge"});var m=l.useRef(null);l.useImperativeHandle(s,function(){return{props:i,getElement:function(){return m.current}}});var _=n({ref:m,style:i.style,className:o(i.className,g("root"))},k.getOtherProps(i),N("root"));return l.createElement("span",_,i.value)}));I.displayName="Badge";const rt=({title:t,header:s,desc:n,toggleSidebar:a})=>{const{user:i,theme:x,setTheme:N}=K(),{show:g,unread:v}=V(),m=l.useRef(),_=l.useRef();let b=c.stickyAnchor,j=c.sticky;const B=function(){if(m.current&&_.current){const r=m.current,y=_.current,{width:$,x:F}=r.getBoundingClientRect(),{y:R}=y.getBoundingClientRect();if(R<=-100){if(r.classList.contains(j))return;y.classList.add(b),r.classList.add(j),r.style.width=$+"px",r.style.left=F+"px",r.style.position="fixed"}else{if(!r.classList.contains(j))return;r.classList.remove(c.sticky),y.classList.remove(b),r.removeAttribute("style")}}},S=[{label:Q,value:"light"},{label:X,value:"dark"}];return l.useEffect(()=>{B();var r;window.addEventListener("scroll",B,!0),window.addEventListener("resize",()=>{var y;(y=m.current)!=null&&y.classList.contains(c.sticky)&&(m.current.classList.remove(c.sticky),m.current.removeAttribute("style")),clearTimeout(r),r=setTimeout(B,500)})},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:_,className:"relative top-0 left-0"}),e.jsx("header",{ref:m,className:o("flex items-center justify-between relative"),children:e.jsx("div",{className:o(d.container,"justify-center"),children:e.jsxs("div",{className:c.headernav,children:[e.jsxs("div",{className:o("items-center",c.titlebar),children:[e.jsx(z,{className:c.menuButton,element:"div",onClick:()=>a(),children:e.jsx(J,{})}),e.jsx("div",{className:"flex items-center ",children:e.jsx(f,{noPad:!0,xl4:!0,children:t})}),e.jsx("div",{className:o("flex items-center",{"mb-3":!!n}),children:p(s,s)})]}),e.jsx("div",{className:o("flex items-center justify-end",c.nav),children:e.jsxs("div",{className:"flex gap-12 ml-auto items-center",children:[e.jsx("div",{className:"flex gap-4 items-center",children:e.jsx(le,{items:S,contentTemplate:r=>e.jsx(O,{bgColor:"primary",shape:"icon",size:"16px",variant:"contained","data-section":"icon",className:c.themeBtn,children:e.jsx(r.label,{})}),onSelect:r=>N(r.value.value),unique:"value",quick:!0,trigger:"hidden",value:S.find(r=>r.value==x),content:"!w-fit mt-5",menuGap:15,marker:"dot",menuItemTemplate:r=>e.jsxs("div",{className:"items-center gap-1 flex w-fit",children:[e.jsx(r.label,{}),e.jsx(f,{md:!0,caps:!0,noPad:!0,children:r.value})]})})}),e.jsxs("div",{className:"flex gap-6 items-center",children:[e.jsxs(u,{children:[e.jsx(u.Trigger,{children:e.jsxs(O,{className:"relative",bgColor:"primary",shape:"icon",size:"18px",variant:"contained","data-section":"icon",children:[e.jsx(Fe,{}),e.jsx(I,{className:o("absolute  right-1 top-1 p-1 rounded-full",{"bg-danger-600":v.length>0}),value:""})]})}),e.jsx(u.Content,{width:o(c.notifications),children:p(v.length>0,e.jsxs(e.Fragment,{children:[v.map(r=>e.jsx(u.Link,{onClick:()=>{window.axios.post(route("data.mark.as.read"),{notify:r.id,user:i.id})},children:e.jsx(Xe,{data:r.data.text||r.data.content,props:r.data.props,date:r.created_at,title:r.type})},r.id)),e.jsx(u.Link,{className:"!py-1 border-t border-t-theme-border",children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:[e.jsx(f,{onClick:()=>{window.axios.post(route("data.mark.as.read"),{notify:"*",user:i.id})},normal:!0,className:"grow",lg:!0,bright:!0,children:"Mark all as read "}),e.jsx(E,{className:"hover:!text-theme-button-hover",variant:"none",size:"sm",onClick:()=>g(),children:"See all"})]})})]}),e.jsxs(f,{normal:!0,className:"justify-between w-full",lg:!0,bright:!0,children:["No new notifications ",e.jsx(E,{className:"hover:!text-theme-button-hover",variant:"none",size:"sm",onClick:()=>g(),children:"See all"})]}))})]}),e.jsx(it,{})]})]})})]})})})]})},it=()=>{const t=D(),{post:s}=q(),[n,a="User"]=t.name.split(" ");return e.jsxs(u,{className:c.user,children:[e.jsx(u.Trigger,{children:e.jsxs("div",{className:"flex gap-2 cursor-pointer",children:[e.jsx(se,{shape:"circle",icon:p(t.photo,e.jsx("img",{src:te(t.photo)}),e.jsx(e.Fragment,{children:a.charAt(0).toUpperCase()})),style:{backgroundColor:"rgb(var(--color-primary-800))",color:"#ffffff"}}),e.jsxs(f,{noPad:!0,className:c.avatarText,children:[e.jsx(ot,{...t}),n]})]})}),e.jsxs(u.Content,{children:[p(!(t.kyc_status==1||t.kyc_status==2),e.jsx(u.Link,{href:route("user.onboarding"),children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Ze,{})," KYC Verification"]})})),p(t.two_fa_status==0,e.jsx(u.Link,{href:route("user.settings.all"),children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(ne,{})," 2Fa Authentication"]})})),e.jsx(u.Link,{href:route("user.settings.all"),children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(ae,{})," Profile Settings"]})}),e.jsx(u.Link,{onClick:()=>s(route("user.logout")),children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(re,{}),"Log out"]})})]})]})},ot=t=>e.jsx(e.Fragment,{children:e.jsx(f,{noPad:!0,xs:!0,className:o("!text-[.7em]",{"text-danger-500":t.kyc_status==0,"text-warning-500":t.kyc_status==2,"text-primary-500":t.kyc_status==1}),children:p(t.kyc_status==0,"Unverified",p(t.kyc_status==2,"Pending","Verified"))})}),ct=rt,lt=()=>{const t=Z().flat();function s(n){return n.map((a,i)=>e.jsx("div",{className:`${d.b_navlist}`,children:l.createElement(dt,{...a,key:a.id})},i))}return e.jsx("div",{className:o(d.bottombar_nav,"shadow-md"),children:e.jsx("div",{className:"grow flex",children:e.jsx("div",{className:d.b_navgroup,children:s(t)})})})},dt=({route:t,label:s,icon:n,sidebarOpen:a,bottomLabel:i})=>e.jsx(P,{href:route(t),className:o(d.b_navlink,{[d.active]:route().current()===t}),children:e.jsx("span",{className:d.b_icon,children:n})}),mt=lt;function zt({pusher:t=!0,user:s,header:n,children:a,title:i,onSearch:x,desc:N="",...g}){const[v,m]=l.useState(!1);return l.useEffect(()=>{const _=setInterval(()=>{const b=document.getElementById("smartsupp-widget-container");if(b){clearInterval(_);const j=b.firstElementChild;if(!j)return;j.style.top="85%"}},2e3);return()=>clearInterval(_)},[]),e.jsx(W,{title:i,usePusher:t,user:s,...g,children:e.jsxs("div",{className:"min-h-screen max-h-screen overflow-hidden",children:[e.jsx("div",{className:d.bottombar,children:e.jsx(mt,{})}),p(v,e.jsx("div",{className:d.mask,onClick:()=>m(!p)})),e.jsx("aside",{className:o(d.sidebar,"scontainer",{[d.open]:v}),children:e.jsx($e,{open:v})}),e.jsx("div",{className:d.main,children:e.jsxs("div",{className:"overflow-x-hidden overflow-y-auto bg-transparent z-50",children:[e.jsx(ct,{desc:N,title:i,header:n,toggleSidebar:()=>m(!v)}),e.jsx("main",{children:e.jsx("div",{className:d.container,children:a})})]})})]})})}export{zt as A};
